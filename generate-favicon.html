<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Favicon Generator</title>

<!-- Vercel Web Analytics -->
<script>
  window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
</script>
<script defer src="/_vercel/insights/script.js"></script>

<style>
  body {
    font-family: sans-serif;
    padding: 40px;
    text-align: center;
  }
  .canvas-group {
    display: inline-block;
    margin: 20px;
    vertical-align: top;
  }
  canvas {
    border: 1px solid #ccc;
    display: block;
    margin: 10px auto;
  }
  button {
    padding: 12px 24px;
    font-size: 14px;
    cursor: pointer;
    background: #2d4a3e;
    color: white;
    border: none;
    border-radius: 4px;
    margin: 5px;
  }
  h3 {
    font-size: 14px;
    color: #666;
  }
</style>
</head>
<body>
  <h1>Favicon Generator for Slide Collage</h1>

  <div class="canvas-group">
    <h3>16x16 (favicon.ico)</h3>
    <canvas id="canvas16"></canvas>
    <button onclick="download('canvas16', 'favicon-16x16.png')">Download 16x16</button>
  </div>

  <div class="canvas-group">
    <h3>32x32 (favicon.ico)</h3>
    <canvas id="canvas32"></canvas>
    <button onclick="download('canvas32', 'favicon-32x32.png')">Download 32x32</button>
  </div>

  <div class="canvas-group">
    <h3>180x180 (Apple Touch Icon)</h3>
    <canvas id="canvas180"></canvas>
    <button onclick="download('canvas180', 'apple-touch-icon.png')">Download 180x180</button>
  </div>

  <div class="canvas-group">
    <h3>512x512 (Android/PWA)</h3>
    <canvas id="canvas512"></canvas>
    <button onclick="download('canvas512', 'android-chrome-512x512.png')">Download 512x512</button>
  </div>

  <script>
    function drawFavicon(canvasId, size) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext('2d');
      canvas.width = size;
      canvas.height = size;

      // Background
      ctx.fillStyle = '#2d4a3e'; // Accent color
      ctx.fillRect(0, 0, size, size);

      // Grid (3x3)
      const padding = size * 0.2;
      const gridSize = size - padding * 2;
      const cellSize = gridSize / 3;
      const gap = cellSize * 0.15;
      const actualCellSize = cellSize - gap;

      ctx.fillStyle = '#f5f3ef'; // Background color

      for (let row = 0; row < 3; row++) {
        for (let col = 0; col < 3; col++) {
          const x = padding + col * cellSize;
          const y = padding + row * cellSize;

          // Rounded rectangles
          const radius = size > 32 ? 2 : 1;
          roundRect(ctx, x, y, actualCellSize, actualCellSize, radius);
        }
      }
    }

    function roundRect(ctx, x, y, width, height, radius) {
      ctx.beginPath();
      ctx.moveTo(x + radius, y);
      ctx.lineTo(x + width - radius, y);
      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
      ctx.lineTo(x + width, y + height - radius);
      ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
      ctx.lineTo(x + radius, y + height);
      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
      ctx.lineTo(x, y + radius);
      ctx.quadraticCurveTo(x, y, x + radius, y);
      ctx.closePath();
      ctx.fill();
    }

    function download(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Generate all favicons
    drawFavicon('canvas16', 16);
    drawFavicon('canvas32', 32);
    drawFavicon('canvas180', 180);
    drawFavicon('canvas512', 512);
  </script>
</body>
</html>
